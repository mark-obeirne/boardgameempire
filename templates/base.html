{% load static %}

<!doctype html>
<html lang="en">
    <head>
        {% block meta %}
            <meta http-equiv="X-UA-Compatible" content="ie=edge">
            <meta charset="utf-8">
            <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        {% endblock %}

        {% block extrameta %}
        {% endblock %}
        
        {% block corecss %}
            <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
            <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.14.0/css/all.min.css" integrity="sha512-1PKOgIY59xJ8Co8+NE6FZ+LOAZKjy+KY8iq0G4B3CyeY6wYHN3yt9PW0XpSriVlkMXe40PTKnXrLnZ9+fkDaog==" crossorigin="anonymous" type="text/css" />
            <link rel="stylesheet" href="{% static 'css/base.css' %}">
        {% endblock %}
        
        {% block extracss %}
        {% endblock %}
        
        {% block corejs %}
            <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
            <script src="https://js.stripe.com/v3/"></script>
        {% endblock %}
        
        {% block extrajs %}
        {% endblock %}

        <title>Boardgame Empire | {% block extra_title %}{% endblock %}</title>
    </head>
    <body>
        <div class="navbar-fixed">
            <nav>
                <div class="nav-wrapper">
                    <div class="top-nav">
                        {% include 'includes/top-nav.html' %}
                    </div>
                    <div class="bottom-nav">
                        {% include 'includes/bottom-nav.html' %}
                    </div>
                </div>
            </nav>
        </div>
        {% include 'includes/mobile-side-nav.html' %}
        
        {% if messages %}
        <div class="message-container">
            {% for message in messages %}
                {% with message.level as level %}
                    {% if level == 40 %}
                        {% include 'includes/messages/message_errors.html' %}
                    {% elif level == 30 %}
                        {% include 'includes/messages/message_warning.html' %}
                    {% elif level == 25 %}
                        {% include 'includes/messages/message_success.html' %}
                    {% else %}
                        {% include 'includes/messages/message_info.html' %}
                    {% endif %}
                {% endwith %}
            {% endfor %}
        </div>
        {% endif %}

        {% block page_header %}
        {% endblock %}

        {% block content %}
        {% endblock %}

        <footer>
            <div class="row bg-brown valign-wrapper">
                <div class="col s7">
                    <ul>
                        <li class="company-info white-text">About Us</li>
                        <li class="company-info white-text">Delivery Information</li>
                        <li class="company-info white-text">Returns Policy</li>
                        <li class="company-info white-text">Loyalty Points Program</li>
                        <li class="company-info white-text">Contact Us</li>
                    </ul>
                </div>
                <div class="col s5 right-align">
                    <ul>
                        <li class="social-media-icon white-text"><i class="fab fa-facebook-square"></i></li>
                        <li class="social-media-icon white-text"><i class="fab fa-twitter-square"></i></li>
                        <li class="social-media-icon white-text"><i class="fab fa-instagram-square"></i></li>
                    </ul>
                </div>
            </div>
        </footer>

        {% block postloadjs %}
            <!--Initialise Materialize Sidenav Menu-->
            <script type="text/javascript">
                document.addEventListener('DOMContentLoaded', function() {
                    const elems = document.querySelectorAll('.sidenav');
                    const instances = M.Sidenav.init(elems, {
                        edge: "right"
                    });
                });
            </script>
            <!--Initialise Materialize Dropdown-->
            <script type="text/javascript">
                document.addEventListener('DOMContentLoaded', function() {
                    var elems = document.querySelectorAll('.dropdown-trigger');
                    var instances = M.Dropdown.init(elems, {
                        coverTrigger: false,
                        hover: true
                    });
                });
            </script>
            <!--Initialise Materialize Dropdown for mobile navigation and top bar icons-->
            <script type="text/javascript">
                document.addEventListener('DOMContentLoaded', function() {
                    var elems = document.querySelectorAll('.click-dropdown-trigger');
                    var instances = M.Dropdown.init(elems, {
                        coverTrigger: false,
                        hover: false
                    });
                });
            </script>
            <!--Initialise Materialize Dropdown with specific options for search dropdown on mobile-->
            <script type="text/javascript">
                document.addEventListener('DOMContentLoaded', function() {
                    var elems = document.querySelectorAll('.search-dropdown-trigger');
                    var instances = M.Dropdown.init(elems, {
                        coverTrigger: false,
                        constrainwidth: false,
                        closeOnClick: false,
                    });
                });
            </script>
            <script type="text/javascript">
                const closeBtn = document.querySelector(".message-close-btn")
                if (closeBtn) {
                    closeBtn.addEventListener("click", function() {
                    const message = document.querySelector(".message-container")
                    message.classList.add("none")
                    })
                }
                
            </script>

        {% endblock %}    
    </body>
</html>